"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[883],{111:(t,i,e)=>{e.d(i,{A:()=>o});var a=e(2492);function s(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const o=class{constructor({attribute:t=null,creator:i=null,hasLabels:e=!0}={}){s(this,"div",null),s(this,"creator",null),s(this,"attribute",null),s(this,"control",null),s(this,"hasLabels",!0),s(this,"onUpdateCallback",null),s(this,"onClickCallback",null),s(this,"isReversed",!1),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.onClickCallback=t.onClick,this.hasLabels=e,this.isReversed=Boolean(t.isReversed);const o=(0,a.A)("<div>").addClass("c-bool");this.control=(0,a.A)("<div>").addClass("c-bool__control").appendTo(o),(0,a.A)("<div>").addClass("c-bool__indicator").appendTo(this.control),this.hasLabels&&(this.state=(0,a.A)("<div>").addClass("c-bool__label").appendTo(o)),this.div=o[0]}activate(){this.control.on("click",(()=>{this.onUpdate(),this.onClickCallback&&this.onClickCallback(this.attribute.value)})),this.control.toggleClass("active",this.attribute.value),this.updateUI()}deactivate(){this.control.off("click")}onUpdate(){const t=!this.attribute.value;this.attribute.set(t),this.updateState()}updateUI(){this.updateState()}updateState(){let t=this.attribute.value;this.isReversed&&(t=!t),this.control.toggleClass("active",t),this.hasLabels&&this.state.text(t?this.attribute.labelTrue:this.attribute.labelFalse),this.onUpdateCallback&&this.onUpdateCallback(this.attribute.value),this.creator.draw()}}},9038:(t,i,e)=>{e.d(i,{A:()=>h});var a=e(2492),s=e(111),o=e(6646);function r(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h=class{constructor({creator:t=null,data:i=null}={}){r(this,"div",null),r(this,"bool",null),r(this,"slider",null),this.bool=new s.A({creator:t,attribute:{attribute:i.bool,onUpdate:()=>{this.onUpdate(),i.onBoolUpdate&&i.onBoolUpdate(i.bool.value)}},hasLabels:!1}),this.slider=new o.A({creator:t,attribute:{attribute:i.slider,onUpdate:i.onUpdate}});const e=(0,a.A)("<div>").addClass("c-bool-slider");(0,a.A)(this.bool.div).appendTo(e),(0,a.A)(this.slider.div).appendTo(e),this.div=e[0]}onUpdateCallback(){this.bool.onUpdateCallback&&this.bool.onUpdateCallback(this.bool.attribute.value),this.slider.setActive(this.bool.attribute.value)}onUpdate(){this.slider.setActive(this.bool.attribute.value)}activate(){this.bool.activate(),this.bool.attribute.value&&this.slider.activate()}deactivate(){this.bool.deactivate&&this.bool.deactivate(),this.slider.deactivate&&this.slider.deactivate()}}},6890:(t,i,e)=>{e.d(i,{A:()=>o});var a=e(2492);function s(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const o=class{constructor({attribute:t=null,creator:i=null}={}){s(this,"div",null),s(this,"creator",null),s(this,"attribute",null),s(this,"values",[]),s(this,"onUpdateCallback",null),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.$values=[];const e=(0,a.A)("<div>").addClass("c-option");this.attribute.options.forEach(((t,i)=>{const s=(0,a.A)("<div>").addClass("c-option__value").text(this.attribute.optionLabels[i]).appendTo(e);this.$values.push(s)})),this.div=e[0]}activate(){this.$values.forEach(((t,i)=>{t.on("click",(()=>this.onUpdate(i)))})),this.updateUI()}deactivate(){this.$values.forEach((t=>t.off("click")))}updateUI(){this.onUpdate(this.attribute.index)}onUpdate(t){this.$values.forEach(((i,e)=>{i.toggleClass("active",e===t)})),this.attribute.set(t),this.onUpdateCallback&&this.onUpdateCallback(t),this.creator&&this.creator.draw()}}},307:(t,i,e)=>{e.d(i,{A:()=>r});var a=e(2492),s=e(6182);function o(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const r=class{constructor({data:t=null,creator:i=null}={}){o(this,"div",null),o(this,"creator",null),o(this,"attribute",null),o(this,"values",[]),o(this,"onUpdateCallback",null),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate;const e=t.classPrefix||"",r=(0,a.A)("<div>").addClass("c-shape");this.attribute.options.forEach(((t,i)=>{const o=(0,a.A)("<div>").addClass("c-shape__value").on("click",(()=>this.onUpdate(i))).appendTo(r);(0,a.A)("<div>").addClass("icon").addClass(`icon-${e?`${e}-`:""}${(0,s.A)(this.attribute.optionLabels[i].replace(/ /g,"-"))}`).appendTo(o),this.values.push(o)})),this.div=r[0]}activate(){this.onUpdate(this.attribute.value)}onUpdate(t){this.values.forEach(((i,e)=>{i.toggleClass("active",e===t)})),this.attribute.set(t),this.onUpdateCallback&&this.onUpdateCallback(t),this.creator.draw()}}},6646:(t,i,e)=>{e.d(i,{A:()=>h});var a=e(2492),s=e(8289),o=e(6337);function r(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h=class{constructor({attribute:t=null,creator:i=null}={}){r(this,"div",null),r(this,"creator",null),r(this,"attribute",null),r(this,"thumb",null),r(this,"value",null),r(this,"transform",null),r(this,"margin",16),r(this,"onUpdateCallback",null),r(this,"onDragStopCallback",null),r(this,"onWindowTouchListener",null),r(this,"isActive",!0),this.creator=i,this.attribute=t.attribute,this.onUpdateCallback=t.onUpdate,this.onDragStopCallback=t.onDragStop,this.transform=t.transform?t.transform:t=>t;const e=(0,a.A)("<div>").addClass("c-slider").addClass("active");(0,a.A)("<div>").addClass("c-slider__track").appendTo(e),this.thumb=(0,a.A)("<div>").addClass("c-slider__thumb").appendTo(e),this.value=(0,a.A)("<div>").addClass("c-slider__value").appendTo(this.thumb),this.div=e[0]}onDrag(t){t.originalEvent.preventDefault();const i=(0,s.A)((t.relativePoint.x-this.margin)/(t.mapping.boundingBox.w-2*this.margin),0,1);this.onUpdate((this.attribute.max-this.attribute.min)*i+this.attribute.min),this.updateThumb(i)}activate(){this.map=this.creator.inputManager.map({element:this.div,margin:new o.A(0,this.margin),onDown:t=>{this.onDrag(t),this.value.addClass("active"),this.preventWindowScroll()},onDrag:t=>this.onDrag(t),onDragStop:()=>this.onDragStop(),onUp:()=>{this.onDragStop(),this.onCancel()},onOut:()=>this.onCancel()},this),this.onWindowTouchListener=t=>this.onWindowTouch(t),this.updateUI()}updateUI(){this.updateThumb(this.transform((this.attribute.value-this.attribute.min)/(this.attribute.max-this.attribute.min)))}preventWindowScroll(){(0,a.A)(window).on("touchstart",this.onWindowTouchListener,{passive:!1}),(0,a.A)(window).on("touchmove",this.onWindowTouchListener,{passive:!1})}disablePreventWindowScroll(){(0,a.A)(window).off("touchstart",this.onWindowTouchListener),(0,a.A)(window).off("touchmove",this.onWindowTouchListener)}onWindowTouch(t){this.creator.inputManager.isDragging&&t.preventDefault()}onDragStop(){this.onDragStopCallback&&this.onDragStopCallback(this.attribute.value)}onCancel(){this.value.removeClass("active"),this.disablePreventWindowScroll()}deactivate(){this.creator.inputManager.unmap(this.map),this.disablePreventWindowScroll()}onUpdate(t){const i=this.attribute.value;this.attribute.set(this.transform(t)),this.attribute.value!==i&&(this.onUpdateCallback&&this.onUpdateCallback(this.attribute.value),this.creator.draw())}setActive(t){t!==this.isActive&&(this.isActive=t,t?this.activate():this.deactivate(),(0,a.A)(this.div).toggleClass("active",t))}updateThumb(t){this.thumb.css({left:`${Number(100*t).toFixed(3)}%`}),this.attribute.labelUsesRealValue?(0,a.A)(this.value).text(this.attribute.value):(0,a.A)(this.value).text(Math.round((this.attribute.value-this.attribute.min)/(this.attribute.max-this.attribute.min)*100))}}},6296:(t,i,e)=>{e.d(i,{A:()=>h});var a=e(6419),s=e(2492),o=e(8289);function r(t,i,e){var a;return(i="symbol"==typeof(a=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i))?a:a+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h=class{constructor({creator:t=null}={}){r(this,"maxSwatchColors",16),r(this,"creator",null),r(this,"$picker",null),r(this,"$swatch",null),r(this,"$sv",null),r(this,"$h",null),r(this,"$value",null),r(this,"$button",null),r(this,"$swatches",null),r(this,"svWidth",0),r(this,"svHeight",0),r(this,"hWidth",0),r(this,"hHeight",0),r(this,"swatchColors",[]),r(this,"canvasSV",null),r(this,"canvasH",null),r(this,"$svTarget",null),r(this,"$hTarget",null),r(this,"hex","#000"),r(this,"hue",0),r(this,"saturation",0),r(this,"value",0),r(this,"startX",0),r(this,"startY",0),r(this,"map",null),r(this,"mapSV",null),r(this,"mapH",null),r(this,"hasBeenDragged",!1),r(this,"hasBeenShown",!1),this.creator=t,this.$picker=(0,s.A)(".js-color-picker"),this.$swatch=(0,s.A)(".js-color-picker__swatch"),this.$swatches=(0,s.A)(".js-color-picker__swatches"),this.$sv=(0,s.A)(".js-color-picker__sv"),this.$h=(0,s.A)(".js-color-picker__h"),this.$value=(0,s.A)(".js-color-picker__value"),this.$button=(0,s.A)(".js-color-picker__button"),this.$svTarget=(0,s.A)(".js-color-picker__sv-target"),this.$hTarget=(0,s.A)(".js-color-picker__h-target"),this.canvasSV=this.$sv[0],this.canvasH=this.$h[0],this.$button.on(["click","touchstart"],(t=>{t.stopPropagation(),t.preventDefault(),this.hide()}))}enableInteraction(){this.$picker.on("mousedown",(t=>{t.preventDefault()})).on("touchstart",(t=>{t.preventDefault()})),this.$value.on("mousedown",(t=>t.stopPropagation())).on("touchstart",(t=>t.stopPropagation())).on("input",(()=>{this.onUpdate&&this.onUpdate(`#${this.$value.value()}`)})),this.map=this.creator.inputManager.map({element:this.$picker[0],onDown:t=>{t.originalEvent.preventDefault()},onMove:()=>{this.creator.inputManager.checkOnMove=!1},onDragStart:t=>this.onDragStart(t),onDrag:t=>this.onDrag(t),z:9},this),this.mapSV=this.creator.inputManager.map({element:this.canvasSV,onDown:t=>{t.originalEvent.preventDefault(),this.onDragSV(t)},onDrag:t=>this.onDragSV(t),z:10},this),this.mapH=this.creator.inputManager.map({element:this.canvasH,onDown:t=>{t.originalEvent.preventDefault(),this.onDragH(t)},onDrag:t=>this.onDragH(t),z:10},this)}disableInteraction(){this.creator.inputManager.unmap(this.map),this.creator.inputManager.unmap(this.mapSV),this.creator.inputManager.unmap(this.mapH),this.$picker.off(),this.$value.off()}onDragStart(){this.hasBeenDragged=!0;const t=this.$picker.offset();this.startX=t.left,this.startY=t.top}position(t,i){this.$picker.css({left:`${t}px`,top:`${i}px`}),this.creator.inputManager.resizeMap(this.map),this.creator.inputManager.resizeMap(this.mapSV),this.creator.inputManager.resizeMap(this.mapH)}onDrag(t){this.position(this.startX+t.delta.x,this.startY+t.delta.y)}onDragSV(t){const i=t.relativePoint.x,e=t.relativePoint.y;this.saturation=(0,o.A)(i/this.svWidth,0,1),this.value=(0,o.A)(1-e/this.svHeight,0,1),this.update(a.A.hsv2hex(this.hue,this.saturation,this.value))}onDragH(t){t.relativePoint.x;const i=t.relativePoint.y;this.hue=(0,o.A)(1-i/this.hHeight,0,1),this.update(a.A.hsv2hex(this.hue,this.saturation,this.value))}show(t,i){this.hasBeenShown=!0,this.onUpdate=i,this.enableInteraction(),this.onResize(),this.$picker.addClass("active");const e=a.A.hex2hsv(t);this.hue=e[0],this.saturation=e[1],this.value=e[2],this.update(t)}addCurrentColorToSwatches(){const t=a.A.hsv2hex(this.hue,this.saturation,this.value),i=a.A.hex2rgb(t);this.swatchColors.some((t=>a.A.hex2rgb(t).reduce(((t,e,a)=>t+Math.abs(e-i[a])),0)<12))||this.swatchColors.unshift(t),this.swatchColors=this.swatchColors.slice(0,Math.min(this.swatchColors.length,this.maxSwatchColors)),this.updateSwatchColors()}setSwatchColors(t){this.swatchColors=t.slice(),this.updateSwatchColors()}updateSwatchColors(){this.$swatches.empty();for(const t of this.swatchColors)(0,s.A)("<div>").addClass("c-color-picker__swatch").css({backgroundColor:t}).on("click",(()=>{const i=a.A.hex2hsv(t);this.hue=i[0],this.saturation=i[1],this.value=i[2],this.update(t)})).appendTo(this.$swatches)}hide(){this.disableInteraction(),this.onUpdate=null,this.$picker.removeClass("active"),this.hasBeenShown&&this.addCurrentColorToSwatches()}onResize(){const t=window.devicePixelRatio||1;this.svWidth=this.$sv.width(),this.svHeight=this.$sv.height(),this.hWidth=this.$h.width(),this.hHeight=this.$h.height(),this.canvasSV.width=this.svWidth*t,this.canvasSV.height=this.svHeight*t,this.canvasH.width=this.hWidth*t,this.canvasH.height=this.hHeight*t;const i=this.canvasH.getContext("2d"),e=i.createLinearGradient(0,0,0,this.canvasH.height);e.addColorStop(0,"#f00"),e.addColorStop(.17,"#f0f"),e.addColorStop(.34,"#00f"),e.addColorStop(.51,"#0ff"),e.addColorStop(.68,"#0f0"),e.addColorStop(.85,"#ff0"),e.addColorStop(1,"#f00"),i.fillStyle=e,i.fillRect(0,0,this.canvasH.width,this.canvasH.height)}isValidHex(t){return/#[a-f\d]{3}/.test(t)||/#[a-f\d]{6}/.test(t)}update(t){if(!this.isValidHex(t))return;this.$swatch.css({backgroundColor:t}),this.$value.value(t.replace("#",""));const i=this.canvasSV.getContext("2d"),e=this.canvasSV.width,s=this.canvasSV.height;i.fillStyle=a.A.hsv2hex(this.hue,1,1),i.fillRect(0,0,e,s);const o=i.createLinearGradient(0,0,e,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),i.fillStyle=o,i.fillRect(0,0,e,s);const r=i.createLinearGradient(0,0,0,s);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),i.fillStyle=r,i.fillRect(0,0,e,s),this.$svTarget.css({left:this.saturation*this.svWidth+"px",top:(1-this.value)*this.svHeight+"px"}),this.$hTarget.css({top:(1-this.hue)*this.hHeight+"px"}),this.onUpdate&&this.onUpdate(t)}}},675:(t,i,e)=>{e.d(i,{Lr:()=>o,Up:()=>s,ey:()=>a});const a=(t,i=3)=>t?`${Number(t.toFixed(i))}`:"0",s=t=>i=>a(i,t),o=t=>i=>((t,i=3)=>t?Number(t.toFixed(i)):0)(i,t)},6182:(t,i,e)=>{function a(t){return t.replace(/([A-Z])/g,(t=>`-${t.toLowerCase()}`))}e.d(i,{A:()=>a})},7912:(t,i,e)=>{e.d(i,{A:()=>r});var a=e(2492),s=e(2783),o=e(6801);const r=new class{constructor(){var t,i,e,s;t=this,e=null,(i="symbol"==typeof(s=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i="$overlay"))?s:s+"")in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,this.$overlay=(0,a.A)(".js-overlay")}show(){return this.$overlay.on(["mousedown","mouseup","mousemove","mouseout","touchstart","touchmove","touchend","touchcancel"],(t=>{t.stopPropagation()})),new Promise((t=>{this.$overlay.addClass("active"),new o.A((t=>{this.$overlay.css({opacity:t.value})}),.35).easing(s.Ux.OUT_LONG).onComplete((()=>{(0,a.A)("body").addClass("has-overlay"),t()})).start()}))}hide(){return(0,a.A)("body").removeClass("has-overlay"),this.$overlay.off(["mousedown","mouseup","mousemove","mouseout","touchstart","touchmove","touchend","touchcancel"]),new Promise((t=>{new o.A((t=>{this.$overlay.css({opacity:1-t.value})}),.35).easing(s.Ux.OUT_LONG).onComplete((()=>{this.$overlay.removeClass("active"),t()})).start()}))}}}}]);